{"version":3,"sources":["uni-app:///pages/search/search.vue","uni-app:///main.js","webpack:///E:/code/TeachApp/pages/search/search.vue?6e9c","webpack:///E:/code/TeachApp/pages/search/search.vue?3a98","webpack:///E:/code/TeachApp/pages/search/search.vue?795c","webpack:///E:/code/TeachApp/pages/search/search.vue?5443"],"names":["mixins","components","keyWord","tabBar","questionList","courseList","articleList","onLoad","onNavigationBarSearchInputChanged","onNavigationBarSearchInputConfirmed","onNavigationBarButtonTap","data","params","content","searched","tabIndex","methods","doSearch","console","storageHsitory","uni","key","success","fail","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;AAwBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA;AAAA,eAIA;EACAA;EAAA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;IAMA;MACA;MACA;MACA;MACA;IACA,QAOA;EACA;EACA;EACAC;IACA;EACA;EACA;EACAC;IAEA;;IAKA;EACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;MAAA;MACA;MACAC;;MAGA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;QACA;QACA;UACA;UACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACAC;QACAC;QACAC;UACA;UACA;UACA;UACA;UACAF;UACAF;QACA;QACAK;UACA;UACA;UACAL;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;;;;ACvIA;AAGA;AACA;AAHA;AACAM,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;;;AAGrD;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4NAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAkuB,CAAgB,uvBAAG,EAAC,C","file":"pages/search/search.js","sourcesContent":["<template>\r\n\t<view>\r\n\t\t<!-- #ifdef MP -->\r\n\t\t<uni-search-bar class=\"uni-mt-10\" ref=\"searchBar\" radius=\"100\" :focus=\"true\" placeholder=\"搜索你想要的内容\"\r\n\t\t\tclearButton=\"auto\" @cancel=\"navBack()\" cancelButton=\"always\" @confirm=\"doSearch\"></uni-search-bar>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- 搜索关键字历史记录 -->\r\n\t\t<key-word @doSearch=\"doSearch\" v-if=\"!searched\"></key-word>\r\n\t\t<!-- 标签导航组件 -->\r\n\t\t<tab-bar v-model=\"tabIndex\" v-if=\"searched\"></tab-bar>\r\n\t\t<!-- 下拉筛选 -->\r\n\t\t<!-- <down-bar :params=\"params\" v-if=\"searched\"></down-bar> -->\r\n\t\t<block v-if=\"searched\">\r\n\t\t\t<course-list :params=\"params\" :content=\"content\" ref=\"mescrollItem0\" :i=\"0\" :index=\"tabIndex\">\r\n\t\t\t</course-list>\r\n\t\t\t<article-list :params=\"params\" :content=\"content\" ref=\"mescrollItem1\" :i=\"1\" :index=\"tabIndex\">\r\n\t\t\t</article-list>\r\n\t\t\t<question-list :params=\"params\" :content=\"content\" ref=\"mescrollItem2\" :i=\"2\" :index=\"tabIndex\">\r\n\t\t\t</question-list>\r\n\t\t</block>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport MescrollMoreMixin from \"@/uni_modules/mescroll-uni/components/mescroll-uni/mixins/mescroll-more.js\"\r\n\timport keyWord from './components/keyword.vue';\r\n\timport tabBar from '@/components/common/tab-bar.vue';\r\n\timport questionList from './components/question-list.vue';\r\n\timport courseList from './components/course-list.vue'\r\n\timport articleList from './components/article-list.vue'\r\n\t// 当前页面实例\r\n\t// #ifdef APP-PLUS\r\n\tlet currentWebview = null;\r\n\t// #endif\r\n\texport default {\r\n\t\tmixins: [MescrollMoreMixin], // 2. 使用mixin\r\n\t\tcomponents: {\r\n\t\t\tkeyWord,\r\n\t\t\ttabBar,\r\n\t\t\tquestionList,\r\n\t\t\tcourseList,\r\n\t\t\tarticleList,\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\t// 获取页面实例\r\n\t\t\tcurrentWebview = this.$scope.$getAppWebview();\r\n\t\t\t// #endif\r\n\r\n\t\t\tif (option.params) {\r\n\t\t\t\t// 如果有参数，不自动获取焦点\r\n\t\t\t\tthis.params = JSON.parse(option.params)\r\n\t\t\t\t// 开始搜索 \r\n\t\t\t\tthis.doSearch()\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t// 获取焦点\r\n\t\t\t\tcurrentWebview.setTitleNViewSearchInputFocus(true)\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 监听原生标题栏搜索输入框输入内容变化事件\t\r\n\t\tonNavigationBarSearchInputChanged(e) {\r\n\t\t\tthis.content = e.text\r\n\t\t},\r\n\t\t// 监听原生标题栏搜索输入框搜索事件，用户点击软键盘上的“搜索”按钮时触发。\r\n\t\tonNavigationBarSearchInputConfirmed(e) {\r\n\r\n\t\t\t// 失去焦点,收起小键盘\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tcurrentWebview.setTitleNViewSearchInputFocus(false)\r\n\t\t\t// #endif\r\n\r\n\t\t\tthis.doSearch()\r\n\t\t},\r\n\t\t// 监听取消按钮\r\n\t\tonNavigationBarButtonTap(e) {\r\n\t\t\t// 后退\r\n\t\t\tthis.navBack()\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tparams: null, // 来的页面带的参数\r\n\t\t\t\tcontent: null, //搜索内容\r\n\t\t\t\tsearched: false, //是否搜索过，搜索过一次隐藏keyword\r\n\t\t\t\ttabIndex: 0, //当前所在下标\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdoSearch(obj) {\r\n\t\t\t\tthis.content = obj && obj.value ? obj.value : this.content\r\n\t\t\t\tconsole.log(this.content)\r\n\r\n\t\t\t\t//  #ifdef MP\r\n\t\t\t\t// 修改小程序端口输入框内容\r\n\t\t\t\tthis.$refs.searchBar.searchVal = this.content;\r\n\t\t\t\t// #endif\r\n\t\t\t\t// 是否搜索过\r\n\t\t\t\tthis.searched = true;\r\n\r\n\t\t\t\t// 将当前搜索关键字保存到本地缓存\r\n\t\t\t\tthis.storageHsitory()\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t// 节流, 避免过快多次请求\r\n\t\t\t\t\tthis.$util.throttle(() => {\r\n\t\t\t\t\t\t// 调用对应子组件方法搜索\r\n\t\t\t\t\t\tthis.$refs[`mescrollItem${this.tabIndex}`].search()\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// uni.showLoading()\r\n\t\t\t},\r\n\t\t\tstorageHsitory() {\r\n\t\t\t\t// 搜索历史本地保存的key\r\n\t\t\t\tconst key = 'history_list'\r\n\t\t\t\t// 获取当前本地已经存在的搜索记录\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// 第n次搜索\r\n\t\t\t\t\t\t// 查询到的原来历史关键字数组中，判断是否存在当前搜索内容关键字，不存在则添加到数组第一个元素，存在则不添加\r\n\t\t\t\t\t\tthis.content && res.data.indexOf(this.content) < 0 && res.data.unshift(this.content)\r\n\t\t\t\t\t\t//保存到本地缓存中\r\n\t\t\t\t\t\tuni.setStorageSync(key, res.data)\r\n\t\t\t\t\t\tconsole.log(\"历史关键字\", res)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t// 如果本地缓存没有key值，失败，则进行第一次保存\r\n\t\t\t\t\t\tthis.content && uni.setStorageSync(key, [this.content])\r\n\t\t\t\t\t\tconsole.log(\"获取历史关键之失败\", err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=4cedc0c6&\"","var components\ntry {\n  components = {\n    uniSearchBar: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-search-bar/uni-search-bar\" */ \"@/components/uni-search-bar/uni-search-bar.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\""],"sourceRoot":""}